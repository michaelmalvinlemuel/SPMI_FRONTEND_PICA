
<div class="modal-header clearfix">
    <div class="modal-title pull-left">
        <h4>Add New Attachment</h4>
    </div>
</div>

<div class="modal-body">
    <div class="row">
        <div class="col-lg-12">
            <form name="ModalUploadProjectForm" role="form" ng-submit="submit()" enctype="multipart/form-data">

                <div class="form-group">
                    <label class="control-label">Title</label>&nbsp;<label style="color: #a94442;">*</label>
                    <input type="text" name="header" class="form-control" ng-model="vm.input.title">
                </div>

                <div class="form-group">
                    <label class="control-label">Description</label>&nbsp;<label style="color: #a94442;">*</label>
                    <textarea name="description" class="form-control" rows="8" ng-model="vm.input.description"></textarea>
                </div>
                
                <div class="form-group has-feedback">
                    <label class="control-label">Document</label>&nbsp;<label style="color: #a94442;">*</label>
                    <input type="file" class="form-control" ngf-select ngf-max-size="{{ $root.UPLOAD_MAX_SIZE }}" 
                        accept="*" ng-required="true"
                        ngf-pattern="*" ng-model="vm.input.file" name="file">
                    
                    <span class="form-control-feedback" 
                        ng-show="ProjectForm.file.$dirty" aria-hidden="true">
                        <i class="fa" ng-class="{ 
                            'fa-close fa-lg': ProjectForm.file.$invalid,
                            'fa-check fa-lg': ProjectForm.file.$valid }"></i>
                    </span>
                    
                    <div style="color: #a94442;" ng-messages="ProjectForm.file.$error " 
                        ng-if="ProjectForm.file.$dirty">
                        
                        <small ng-message="pattern">* File yang hendak diupload tidak sesuai dengan format extensi yang diperbolehkan ({{ $root.FILE_TYPE }}).</small>
                        <small ng-message="maxSize">* File melebihi batas maximal untuk diupload ({{ $root.UPLOAD_MAX_SIZE }}).</small>
                    </div>
                </div>
                                                    
                
                <input type="submit" style="position: absolute; left: -9999px; width: 1px; height: 1px;" tabindex="-1" />
                
            </form>
        </div>
    </div>
</div>

<div class="modal-footer clearfix">
    <div class="panel-title pull-right">
        <div class="form-inline">
            <button ng-click="vm.close()" class="btn btn-default"><i class="fa fa-close"></i></button>
            <button ng-click="vm.submit()" ng-disabled="(ModalProjectForm.$invalid && validated)" class="btn btn-primary">
                <i class="fa fa-plus"></i>
            </button>
        </div>
    </div>
</div>

<json-formatter ng-if="$root.APP_DEBUG" json="vm.input" open="1"></json-formatter>
